{"version":3,"sources":["components/Card/Card.module.scss","components/Drawer/Drawer.module.scss","context.js","components/Info.jsx","hooks/useCart.js","components/Drawer/Drawer.jsx","components/Header.jsx","components/Card/Card.jsx","pages/Home.jsx","pages/Favorites.jsx","pages/Orders.jsx","App.js","index.js"],"names":["module","exports","AppContext","React","createContext","Info","title","image","description","setCartOpened","useContext","className","height","src","alt","onClick","useCart","cartItems","setCartItems","totalPrice","reduce","sum","obj","price","delay","ms","Promise","resolve","setTimeout","Drawer","closeCart","onRemove","items","opened","useState","orderId","setOrderId","isOrderComplete","setIsOrderComplete","isLoading","setIsLoading","onClickOrder","a","axios","post","data","id","i","length","item","delete","alert","styles","overlay","overlayVisible","drawer","map","style","backgroundImage","imageUrl","toFixed","disabled","Header","props","to","width","openCart","Card","addToFavorite","addToCart","favorited","loading","isItemAdded","isFavorite","setIsFavorite","parentId","card","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favorite","plus","Home","searchValue","setSearchValue","onChangeSearchInput","onAddToCart","onAddToFavorite","onChange","value","placeholder","filtredItems","filter","toLowerCase","includes","Array","index","renderItems","Favorites","favorites","Orders","orders","setOrders","useEffect","get","prev","console","error","App","setItems","setFavorites","cartOpened","all","cartResponse","favoritesResponse","itemResponse","fetchData","findItem","find","favObj","Provider","some","path","exact","event","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2dd2239b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__2ycsl\",\"image\":\"Card_image__3a10Y\",\"favorite\":\"Card_favorite__269iy\",\"plus\":\"Card_plus__1U7EP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__2qgpD\",\"overlayVisible\":\"Drawer_overlayVisible__2zo-A\",\"drawer\":\"Drawer_drawer__2_6b4\",\"items\":\"Drawer_items__1vQMl\"};","import React from \"react\"\r\n\r\nconst AppContext = React.createContext({})\r\n\r\nexport default AppContext","import React from 'react'\r\nimport AppContext from '../context'\r\n\r\nconst Info = ({title, image, description}) => {\r\n  const {setCartOpened} = React.useContext(AppContext)\r\n  \r\n  return (\r\n    <div className=\"cartEmpty d-flex align-center justify-center flex-column flex\">\r\n      <img className=\"mb-20\" height={120} src={image} alt=\"Empty\"/>\r\n      <h2>{title}</h2>\r\n      <p className=\"opacity-6\">{description}</p>\r\n      <button onClick={() => setCartOpened(false)} className=\"greenButton\">\r\n        <img src=\"/img/arrow.svg\" alt=\"Arrow\"/>\r\n        Вернуться назад\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Info","import React from \"react\"\r\nimport AppContext from \"../context\"\r\n\r\nexport const useCart = () => {\r\n  const { cartItems, setCartItems } = React.useContext(AppContext) \r\n  const totalPrice = cartItems.reduce((sum, obj) => obj.price + sum, 0)\r\n\r\n  return { cartItems, setCartItems, totalPrice }\r\n}","import React from \"react\"\r\nimport axios from \"axios\"\r\n\r\nimport Info from \"../Info\"\r\nimport { useCart } from \"../../hooks/useCart\"\r\n\r\nimport styles from \"./Drawer.module.scss\"\r\n\r\nconst delay = (ms) => new Promise(resolve => setTimeout(resolve, ms))\r\n\r\nconst Drawer = ({closeCart, onRemove, items = [], opened}) => {\r\n  const { cartItems, setCartItems, totalPrice } = useCart()\r\n  const [orderId, setOrderId] = React.useState(null)\r\n  const [isOrderComplete, setIsOrderComplete] = React.useState(false)\r\n  const [isLoading, setIsLoading] = React.useState(false)\r\n\r\n  const onClickOrder = async () => {\r\n    try {\r\n      setIsLoading(true)\r\n      const {data} = await axios.post('https://60d43ab061160900173ca973.mockapi.io/orders', {items: cartItems})\r\n      setOrderId(data.id)\r\n      setIsOrderComplete(true)\r\n      setCartItems([])\r\n\r\n      for (let i = 0; i < cartItems.length; i++) {\r\n        const item = cartItems[i];\r\n        await axios.delete('https://60d43ab061160900173ca973.mockapi.io/cart/' + item.id)\r\n        await delay(1000)\r\n      }\r\n      \r\n    } catch (error) {\r\n      alert('Ошибка при создании заказа :(')\r\n    }\r\n    setIsLoading(false)\r\n  }\r\n\r\n  return (\r\n    <div className={`${styles.overlay} ${opened ? styles.overlayVisible : ''}`}>\r\n      <div className={styles.drawer}>\r\n        <h2 className=\"d-flex justify-between mb-30\">Корзина\r\n          <img onClick={closeCart} className=\"removeBtn mr-20 cu-p\" src=\"/img/btn-remove.svg\" alt=\"Remove\"/>\r\n        </h2>\r\n\r\n        {\r\n          items.length > 0 ? (\r\n            <>\r\n              <div className=\"items flex\">\r\n                {\r\n                  items.map((obj) => (\r\n                    <div key={obj.id} className=\"cartItem d-flex align-center mb-20\">\r\n                      <div style={{backgroundImage: `url(${obj.imageUrl})`}} className=\"cartItemImg\">\r\n                      </div>\r\n                      <div className=\"mr-15\">\r\n                        <p className=\"mb-5\">{obj.title}</p>\r\n                        <b>{obj.price} руб.</b>\r\n                      </div>\r\n                      <img onClick={()=>onRemove(obj.id)} className=\"removeBtn mr-20\" src=\"/img/btn-remove.svg\" alt=\"Remove\"/>\r\n                    </div>\r\n                  ))\r\n                }\r\n              </div>\r\n              <div className=\"cartTotalBlock\">\r\n                <ul>\r\n                  <li>\r\n                    <span>Итого:</span>\r\n                    <div></div>\r\n                    <b>{totalPrice} руб.</b>\r\n                  </li>\r\n                  <li>\r\n                    <span>Налог 5%:</span>\r\n                    <div></div>\r\n                    <b>{(totalPrice * 0.05).toFixed(2)} руб.</b>\r\n                  </li>\r\n                </ul>\r\n                <button disabled={isLoading} onClick={onClickOrder} className=\"greenButton\">Оформить заказ\r\n                  <img src=\"/img/arrow.svg\" alt=\"Arrow\"/>\r\n                </button>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <Info \r\n              title={isOrderComplete ? \"Заказ оформлен!\" : \"Корзина пустая\"} \r\n              description={isOrderComplete ? `Ваш заказ #${orderId} скоро будет передан курьерской доставке` : \"Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ\"} \r\n              image={isOrderComplete ?  \"/img/complete-order.jpg\" : \"/img/empty-cart.jpg\"}\r\n            />\r\n          )\r\n        }\r\n        \r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Drawer","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport { useCart } from '../hooks/useCart';\r\n\r\nconst Header = (props) => {\r\n  const {totalPrice} = useCart()\r\n\r\n  return (\r\n    <header className=\"d-flex justify-between align-center p-40\">\r\n      <Link to=\"/\">\r\n        <div className=\"headerLeft d-flex align-center\">\r\n          <img width={40} height={40} src=\"/img/logo.png\" alt=\"Logo\"/>\r\n          <div>\r\n            <h3 className=\"text-uppercase\">React Sneakers</h3>\r\n            <p className=\"opacity-5\">Магазин лучших кроссовок</p>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      <ul className=\"d-flex\">\r\n        <li className=\"mr-30 cu-p\" onClick={props.openCart}>\r\n          <img className=\"mr-15\" width={18} height={18} src=\"/img/cart.svg\" alt=\"Корзина\"/>\r\n          <span>{totalPrice} руб.</span>\r\n        </li>\r\n        <li className=\"mr-15 cu-p\">\r\n          <Link to=\"/favorites\">\r\n            <img width={18} height={18} src=\"/img/heart.svg\" alt=\"Закладки\"/>\r\n          </Link>\r\n        </li>\r\n        <li className=\"cu-p\">\r\n          <Link to=\"/orders\">\r\n            <img width={18} height={18} src=\"/img/user.svg\" alt=\"Пользователь\"/>\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import React from 'react';\r\nimport ContentLoader from \"react-content-loader\"\r\nimport styles from './Card.module.scss'\r\nimport AppContext from \"../../context\";\r\n\r\nconst Card = ({ \r\n  id, \r\n  title, \r\n  imageUrl, \r\n  price, \r\n  addToFavorite, \r\n  addToCart, \r\n  favorited = false, \r\n  loading=false\r\n}) => {\r\n\r\n  const { isItemAdded } = React.useContext(AppContext)\r\n  const [isFavorite, setIsFavorite] = React.useState(favorited)\r\n  const obj = {id, parentId: id, title, imageUrl, price}\r\n\r\n  const oncClickPlus = () => {\r\n    addToCart(obj)\r\n  }\r\n\r\n  const onClickFavorite = () => {\r\n    addToFavorite(obj)\r\n    setIsFavorite(!isFavorite)\r\n  }\r\n\r\n  return (\r\n    <div className={styles.card}>\r\n      {\r\n        loading \r\n        ? <ContentLoader \r\n          speed={2}\r\n          width={170}\r\n          height={230}\r\n          viewBox=\"0 0 170 230\"\r\n          backgroundColor=\"#f3f3f3\"\r\n          foregroundColor=\"#ecebeb\"\r\n          >\r\n            <rect x=\"0\" y=\"5\" rx=\"10\" ry=\"10\" width=\"170\" height=\"125\" /> \r\n            <rect x=\"0\" y=\"145\" rx=\"5\" ry=\"5\" width=\"170\" height=\"15\" /> \r\n            <rect x=\"0\" y=\"170\" rx=\"5\" ry=\"5\" width=\"100\" height=\"15\" /> \r\n            <rect x=\"0\" y=\"203\" rx=\"5\" ry=\"5\" width=\"80\" height=\"25\" /> \r\n            <rect x=\"138\" y=\"198\" rx=\"10\" ry=\"10\" width=\"32\" height=\"32\" />\r\n          </ContentLoader>\r\n        :\r\n        <>\r\n          <div className={styles.favorite} onClick={onClickFavorite}>\r\n            {addToFavorite && <img src={isFavorite ? '/img/liked.svg' : '/img/unliked.svg'} alt=\"Unliked\"/>}\r\n          </div>\r\n          <img className={styles.image} width={133} height={112} src={imageUrl} alt=\"Sneakers\"/>\r\n          <h5>{title}</h5>\r\n          <div className=\"d-flex justify-between align-center\">\r\n            <div className=\"d-flex flex-column\">\r\n              <span>Цена:</span>\r\n              <b>{price} руб.</b>\r\n            </div>\r\n            {addToCart && \r\n              <img className={styles.plus} \r\n                onClick={oncClickPlus} \r\n                src={isItemAdded(id) ? '/img/btn-checked.svg' : '/img/btn-plus.svg'} alt=\"Plus\"/>\r\n            }\r\n          </div>\r\n        </>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card\r\n\r\n","import React from \"react\";\r\nimport Card from \"../components/Card/Card\";\r\n\r\nconst Home = ({\r\n  items, \r\n  searchValue, \r\n  setSearchValue, \r\n  onChangeSearchInput, \r\n  onAddToCart, \r\n  onAddToFavorite, \r\n  isLoading}) => {\r\n\r\n  const renderItems = () => {\r\n    const filtredItems = items.filter(item => item.title.toLowerCase().includes(searchValue.toLowerCase()))\r\n    return (isLoading ? [...Array(8)] : filtredItems).map((item, index) => (\r\n      <Card \r\n        key={index}\r\n        addToCart={onAddToCart}\r\n        addToFavorite={onAddToFavorite}\r\n        loading={isLoading}\r\n        {...item}\r\n      />\r\n      ))\r\n  }\r\n  \r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center justify-between mb-40\">\r\n        <h1>{searchValue ? `Поиск по запросу: \"${searchValue}\"` : 'Все кроссовки'}</h1>\r\n        <div className=\"search-block d-flex\">\r\n          <img src=\"/img/search.svg\" alt=\"Search\"/>\r\n          {searchValue && <img\r\n            onClick={() => setSearchValue('')}\r\n            className=\"clear removeBtn mr-15 cu-p\"\r\n            src=\"/img/btn-remove.svg\"\r\n            alt=\"Clear\"/>}\r\n          <input onChange={onChangeSearchInput} value={searchValue} placeholder=\"Поиск...\"/>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {\r\n          renderItems()\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home","import React from \"react\";\r\nimport Card from \"../components/Card/Card\";\r\nimport AppContext from \"../context\";\r\n\r\nconst Favorites = () => {\r\n  const {favorites, onAddToFavorite} = React.useContext(AppContext)\r\n\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center justify-between mb-40\">\r\n        <h1>Мои закладки</h1>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {\r\n          favorites\r\n            .map((item, index) => (\r\n            <Card \r\n              key={index}\r\n              favorited={true}\r\n              addToFavorite={onAddToFavorite}\r\n              {...item}\r\n            />\r\n          ))\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Favorites","import axios from \"axios\";\r\nimport React from \"react\";\r\nimport Card from \"../components/Card/Card\";\r\n\r\nconst Orders = () => {\r\n  const [orders, setOrders] = React.useState([])\r\n  const [isLoading, setIsLoading] = React.useState(true)\r\n\r\n  React.useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const {data} = await axios.get('https://60d43ab061160900173ca973.mockapi.io/orders')\r\n        setOrders(data.reduce((prev, obj) => [...prev, ...obj.items], []));\r\n        setIsLoading(false)\r\n      } catch (error) {\r\n        alert('Ошибка при запросе заказов')        \r\n        console.error(error)\r\n      }\r\n    })()\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center justify-between mb-40\">\r\n        <h1>Мои заказы</h1>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {\r\n          (isLoading ? [...Array(8)] : orders)\r\n            .map((item, index) => (\r\n              <Card \r\n                key={index}\r\n                loading={isLoading}\r\n                {...item}\r\n              />\r\n          ))\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Orders","import React from 'react';\nimport {Route} from 'react-router-dom';\nimport axios from 'axios'\n\nimport Drawer from \"./components/Drawer/Drawer\";\nimport Header from \"./components/Header\";\nimport Home from './pages/Home';\nimport Favorites from './pages/Favorites';\nimport AppContext from './context';\nimport Orders from './pages/Orders';\n\nconst App = () => {\n  const [items, setItems] = React.useState([])\n  const [cartItems, setCartItems] = React.useState([])\n  const [favorites, setFavorites] = React.useState([])\n  const [searchValue, setSearchValue] = React.useState('')\n  const [cartOpened, setCartOpened] = React.useState(false)\n  const [isLoading, setIsLoading] = React.useState(true)\n\n  React.useEffect(() => {\n    async function fetchData() {\n      try {\n        const [cartResponse, favoritesResponse, itemResponse] = await Promise.all([axios.get('https://60d43ab061160900173ca973.mockapi.io/cart'), axios.get('https://60d43ab061160900173ca973.mockapi.io/favorites'), axios.get('https://60d43ab061160900173ca973.mockapi.io/items')])\n  \n        setIsLoading(false)\n  \n        setCartItems(cartResponse.data)\n        setFavorites(favoritesResponse.data)\n        setItems(itemResponse.data)\n      } catch (error) {\n        alert('Ощибки при запросе данных :(')\n      }\n    }\n    \n    fetchData()\n  }, [])\n  \n  const onAddToCart = async (obj) => {\n    try {\n      const findItem = cartItems.find(item => +item.parentId === +obj.id)\n      if (findItem) {\n        setCartItems(prev => prev.filter(item => +item.parentId !== +obj.id))\n        await axios.delete(`https://60d43ab061160900173ca973.mockapi.io/cart/${findItem.id}`)\n      } else {\n        setCartItems(prev => [...prev, obj])\n        const {data} = await axios.post('https://60d43ab061160900173ca973.mockapi.io/cart', obj)\n        setCartItems(prev => prev.map(item => {\n          if (item.parentId === data.parentId) {\n            return {\n              ...item,\n              id: data.id\n            }\n          }\n          return item\n        }))\n      }\n    } catch (error) {\n      alert('Ошибка при добавлении в корзину')\n      console.error(error)\n    }\n  }\n\n  const onRemoveItem = (id) => {\n    try {\n      axios.delete(`https://60d43ab061160900173ca973.mockapi.io/cart/${id}`)\n      setCartItems(prev => prev.filter(item => +item.id !== +id))\n    } catch (error) {\n      alert('Ошибка при удалении из корзины')\n      console.error(error)\n    }\n  }\n\n  const onAddToFavorite = async (obj) => {\n    try {\n      if (favorites.find(favObj => +favObj.id === +obj.id)) {\n        axios.delete(`https://60d43ab061160900173ca973.mockapi.io/favorites/${obj.id}`)\n        setFavorites(prev => prev.filter(item => +item.id !== +obj.id))\n      } else {\n        const {data} = await axios.post('https://60d43ab061160900173ca973.mockapi.io/favorites', obj)\n        setFavorites(prev => [...prev, data])\n      }\n    } catch (error) {\n      alert('Не удалось добавить в фавориты')\n      console.error(error)\n    }\n  }\n\n  const onChangeSearchInput = (event) => {\n    setSearchValue(event.target.value)\n  }\n\n  const isItemAdded = (id) => {\n    return cartItems.some(obj => +obj.parentId === +id)\n  }\n\n  return (\n    <AppContext.Provider value={{items, cartItems, favorites, isItemAdded, onAddToFavorite, setCartOpened, setCartItems}}>\n      <div className=\"wrapper clear\">\n        <Drawer \n          items={cartItems} \n          closeCart={() => setCartOpened(false)}\n          onRemove={onRemoveItem} \n          opened={cartOpened}\n        />\n        <Header openCart={() => setCartOpened(true)} />\n\n        <Route path=\"/\" exact>\n          <Home \n            items={items} \n            cartItems={cartItems}\n            searchValue={searchValue} \n            setSearchValue={setSearchValue}\n            onChangeSearchInput={onChangeSearchInput}\n            onAddToCart={onAddToCart} \n            onAddToFavorite={onAddToFavorite}\n            isLoading={isLoading} />\n        </Route>\n\n        <Route path=\"/favorites\" exact>\n          <Favorites />\n        </Route>\n        <Route path=\"/orders\" exact>\n          <Orders />\n        </Route>\n      </div>\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport './index.scss';\nimport 'macro-css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}